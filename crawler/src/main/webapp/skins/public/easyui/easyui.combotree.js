/**
 * jQuery EasyUI 1.3.2
 * 
 * Copyright (c) 2009-2013 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL or commercial licenses
 * To use it on other terms please contact us: jeasyui@gmail.com
 * http://www.gnu.org/licenses/gpl.txt
 * http://www.jeasyui.com/license_commercial.php
 *
 */
/*combotree*/
(function($){function _86d(_86e){var opts=$.data(_86e,"combotree").options;var tree=$.data(_86e,"combotree").tree;$(_86e).addClass("combotree-f");$(_86e).combo(opts);var _86f=$(_86e).combo("panel");if(!tree){tree=$("<ul></ul>").appendTo(_86f);$.data(_86e,"combotree").tree=tree}tree.tree($.extend({},opts,{checkbox:opts.multiple,onLoadSuccess:function(node,data){var _870=$(_86e).combotree("getValues");if(opts.multiple){var _871=tree.tree("getChecked");for(var i=0;i<_871.length;i++){var id=_871[i].id;(function(){for(var i=0;i<_870.length;i++){if(id==_870[i]){return}}_870.push(id)})()}}$(_86e).combotree("setValues",_870);opts.onLoadSuccess.call(this,node,data)},onClick:function(node){_873(_86e);$(_86e).combo("hidePanel");opts.onClick.call(this,node)},onCheck:function(node,_872){_873(_86e);opts.onCheck.call(this,node,_872)}}))};function _873(_874){var opts=$.data(_874,"combotree").options;var tree=$.data(_874,"combotree").tree;var vv=[],ss=[];if(opts.multiple){var _875=tree.tree("getChecked");for(var i=0;i<_875.length;i++){vv.push(_875[i].id);ss.push(_875[i].text)}}else{var node=tree.tree("getSelected");if(node){vv.push(node.id);ss.push(node.text)}}$(_874).combo("setValues",vv).combo("setText",ss.join(opts.separator))};function _876(_877,_878){var opts=$.data(_877,"combotree").options;var tree=$.data(_877,"combotree").tree;tree.find("span.tree-checkbox").addClass("tree-checkbox0").removeClass("tree-checkbox1 tree-checkbox2");var vv=[],ss=[];for(var i=0;i<_878.length;i++){var v=_878[i];var s=v;var node=tree.tree("find",v);if(node){s=node.text;tree.tree("check",node.target);tree.tree("select",node.target)}vv.push(v);ss.push(s)}$(_877).combo("setValues",vv).combo("setText",ss.join(opts.separator))};$.fn.combotree=function(_879,_87a){if(typeof _879=="string"){var _87b=$.fn.combotree.methods[_879];if(_87b){return _87b(this,_87a)}else{return this.combo(_879,_87a)}}_879=_879||{};return this.each(function(){var _87c=$.data(this,"combotree");if(_87c){$.extend(_87c.options,_879)}else{$.data(this,"combotree",{options:$.extend({},$.fn.combotree.defaults,$.fn.combotree.parseOptions(this),_879)})}_86d(this)})};$.fn.combotree.methods={options:function(jq){var _87d=jq.combo("options");return $.extend($.data(jq[0],"combotree").options,{originalValue:_87d.originalValue,disabled:_87d.disabled,readonly:_87d.readonly})},tree:function(jq){return $.data(jq[0],"combotree").tree},loadData:function(jq,data){return jq.each(function(){var opts=$.data(this,"combotree").options;opts.data=data;var tree=$.data(this,"combotree").tree;tree.tree("loadData",data)})},reload:function(jq,url){return jq.each(function(){var opts=$.data(this,"combotree").options;var tree=$.data(this,"combotree").tree;if(url){opts.url=url}tree.tree({url:opts.url})})},setValues:function(jq,_87e){return jq.each(function(){_876(this,_87e)})},setValue:function(jq,_87f){return jq.each(function(){_876(this,[_87f])})},clear:function(jq){return jq.each(function(){var tree=$.data(this,"combotree").tree;tree.find("div.tree-node-selected").removeClass("tree-node-selected");var cc=tree.tree("getChecked");for(var i=0;i<cc.length;i++){tree.tree("uncheck",cc[i].target)}$(this).combo("clear")})},reset:function(jq){return jq.each(function(){var opts=$(this).combotree("options");if(opts.multiple){$(this).combotree("setValues",opts.originalValue)}else{$(this).combotree("setValue",opts.originalValue)}})}};$.fn.combotree.parseOptions=function(_880){return $.extend({},$.fn.combo.parseOptions(_880),$.fn.tree.parseOptions(_880))};$.fn.combotree.defaults=$.extend({},$.fn.combo.defaults,$.fn.tree.defaults,{editable:false})})(jQuery);

